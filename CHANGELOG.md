# 4.7
- **Минимально необходимая версия php теперь 5.4**.
- **Минимально необходимая версия ionCube теперь 5.0**.
- Теперь модуль не зависит от настройки `short_open_tag`.
- Настройки лицензии вынесены в админку модуля.
- [beta] **Добавлена интеграция с сервисом tinyPNG.** Теперь можно удобно изменять размер и сразу же оптимизировать картинки. Отличительной особенностью сервиса является "умное" создание миниатюр в режиме crop. Для использования сервиса необходимо [получить API key](https://tinypng.com/developers). Для обработки картинок через tinyPNG необходимо заменть модификатор `image` на `tinypng`. Например: `{$el.short_story|tinypng:$noimage:'small':'all':'250':'':'crop'}`. Модификатор имеет такой же синтаксис передачи параметров, но не воспринимает значение качества картинки и принимает только следующие параметры ресайза: **portrait, landscape, auto, crop**.
- [beta] **Добавлена интеграция с сервисом Kraken.io.** Для обработки картинок через Kraken необходимо заменть модификатор `image` на `kraren`. Например: `{$el.short_story|kraren:$noimage:'small':'all':'250':'':'crop'}`. Модификатор имеет такой же синтаксис передачи параметров, но не воспринимает значение качества картинки.
- [beta] Добавлен новый параметр строки подключения: `setFilter`. Теперь есть возможность задать собственные параметры фильтрации новостей. http://bp.pafnuty.name/documentation/#setFilter
- Добавлен новый тег `{$totalCount}`, выводящий общее количество новостей в выборке. Если постраничная навигация включена - тег выводит общее кол-во новостей co всех страниц.
- Исправлена ошибка логики построения запроса для отбора новостей в режиме вывода афишей.
- Исправлено некорректное построение ЧПУ при третем типе настроек в DLE.
- Исправлена недостаточная фильтрация при отборе новостей по тегам.
- Исправлено некорректное формирование ссылки на аватар пользователя в dle 10.6.
- Исправлена некоррекная выборка новостей при фильтрации по допполям с логикой OR.
- Исправлена ошибка генерации предпросмотра блока в админке и создания виджета при использовании Memcache.
- Исправлена mysql ошибка, при некоторых случаях выборки по автору новости.
- Обновлён шаблонизатор до актуальной версии.
- Мелкие исправления, улучшения и доработки класса resize.php.
- Улучшенеи модификатора declination, теперь отрицательные числа тоже корректно склоняются.
- Рефакторинг, оптимизация и улучшение php кода модуля.
- Исправлена ошибка с некорректной генерацией строки подключения при предпросмотре виджетов в админке.